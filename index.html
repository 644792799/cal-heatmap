<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Cal-HeatMap : Calendar Heat map with d3.js</title>

	<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
	<link rel="stylesheet" href="./css/cal-heatmap.css?v=2.1.0" />
	<link rel="stylesheet" href="./css/main.css?v=2.1.0" />
	<link href='http://fonts.googleapis.com/css?family=Exo:400,800,600,400italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,400italic,700italic,700' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
	<script type="text/javascript" src="./js/cal-heatmap.min.js?v=2.1.6"></script>
	<script type="text/javascript" src="./js/moment.min.js"></script>
	<script type="text/javascript" src="./js/lang.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script type="text/javascript" src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
</head>
<body>

<nav>
	<span class="title">Cal-heatmap</span>
	<span class="subtitle">A javascript module to create a calendar heatmap</span>

	<ul>
		<li><a href="#home">Home</a></li>
		<li>
			<a href="#getting-started">Getting started</a>
			<ul>
				<li><a href="#installation">Installation</a></li>
				<li><a href="#basic-usage">Basic Usage</a></li>
				<li><a href="#browsers-support">Browsers Support</a></li>
			</ul>
		</li>
		<li>
			<a href="#documentation">Documentation</a>
				<ul>
				<li>
					<a href="#options" class="nav-sectitle">Options</a>
					<ul>
						<li>
							<span class="head">Presentation</span>
							<ul>
								<li><a href="#itemSelector">itemSelector</a></li>
								<li><a href="#range">range</a></li>
								<li><a href="#cellSize">cellSize</a></li>
								<li><a href="#cellPadding">cellPadding</a></li>
								<li><a href="#cellRadius">cellRadius</a></li>
								<li><a href="#domainGutter">domainGutter</a></li>
								<li><a href="#domainMargin">domainMargin</a></li>
								<li><a href="#domain">domain</a></li>
								<li><a href="#subDomain">subDomain</a></li>
								<li><a href="#verticalOrientation">verticalOrientation</a></li>
								<li><a href="#label">label</a></li>
								<li>
								</li>
							</ul>
						</li>
						<li>
							<span class="head">Data</span>
							<ul>
								<li><a href="#start">start</a></li>
								<li><a href="#data">data</a></li>
								<li><a href="#dataType">dataType</a></li>
								<li><a href="#highlight">highlight</a></li>
								<li><a href="#weekStartOnMonday">weekStartOnMonday</a></li>
							</ul>
						</li>
						<li>
							<span class="head">Legend</span>
							<ul>
								<li><a href="#legend">legend</a></li>
								<li><a href="#displayLegend">displayLegend</a></li>
								<li><a href="#legendCellSize">legendCellSize</a></li>
								<li><a href="#legendCellPadding">legendCellPadding</a></li>
								<li><a href="#legendMargin">legendMargin</a></li>
								<li><a href="#legendVerticalPosition">legendVerticalPosition</a></li>
								<li><a href="#legendHorizontalPosition">legendHorizontalPosition</a></li>

							</ul>
						</li>
						<li>
							<span class="head">i18n</span>
							<ul>
								<li><a href="#itemName">itemName</a></li>
								<li><a href="#subDomainTitleFormat">subDomainTitleFormat</a></li>
								<li><a href="#subDomainDateFormat">subDomainDateFormat</a></li>
								<li><a href="#subDomainTextFormat">subDomainTextFormat</a></li>
								<li><a href="#domainLabelFormat">domainLabelFormat</a></li>
								<li><a href="#legendTitleFormat">legendTitleFormat</a></li>
							</ul>
						</li>
						<li>
							<span class="head">Other</span>
								<ul>
								<li><a href="#animationDuration">animationDuration</a></li>
								<li><a href="#previousSelector">previousSelector</a></li>
								<li><a href="#nextSelector">nextSelector</a></li>
								<li><a href="#itemNamespace">itemNamespace</a></li>
							</ul>
						</li>
					</ul>
				</li>
				<li>
					<a href="#methods" class="nav-sectitle">Methods</a>
					<ul>
						<li><a href="#previous">previous</a></li>
						<li><a href="#next">next</a></li>
						<li><a href="#getSVG">getSVG</a></li>
					</ul>
				</li>
				<li>
					<a href="#events" class="nav-sectitle">Events</a>
					<ul>
						<li><a href="#onClick">onClick</a></li>
						<li><a href="#afterLoad">afterLoad</a></li>
						<li><a href="#afterLoadNextDomain">afterLoadNextDomain</a></li>
						<li><a href="#afterLoadPreviousDomain">afterLoadPreviousDomain</a></li>
						<li><a href="#onComplete">onComplete</a></li>
						<li><a href="#afterLoadData">afterLoadData</a></li>
					</ul>
				</li>
				<li>
					<a href="#data-format" class="nav-sectitle">Data Format</a>
				</li>
				<li>
					<a href="#domain-highlight" class="nav-sectitle">Domain Highlight</a>
				</li>
			</ul>
		</li>
		<li><a href="#migrating-from-2x">Migrating from 2.x</a></li>
		<li><a href="#faq">FAQ</a></li>
		<li><a href="https://github.com/kamisama/cal-heatmap">GitHub</a></li>
		<li><a href="https://github.com/kamisama/cal-heatmap/issues?state=open">Issues/Bug report</a></li>
	</ul>
</nav>

<div class="container">

	<h2 id="home">What is Cal-heatmap ?</h2>

	<p><def>Cal-Heatmap</def> is a javascript module to create a calendar heatmap, a la github contribution graph.</p>

	<div class="pull-right" style="margin-bottom: 10px; margin-right: 3px">
		<a href="#" id="ftr-demo-previous"><i class="icon icon-chevron-left"></i></a>
		<a href="#" id="ftr-demo-next"><i class="icon icon-chevron-right"></i></a>
	</div>
	<div id="cal-heatmap"></div>
	<script>
	(function() {
		var cal = new CalHeatMap();
		cal.init({
			range: 10,
			start: new Date(2000, 0, 1, 2),
			data: "datas-hours.json",
			previousSelector: "#ftr-demo-previous",
			nextSelector: "#ftr-demo-next"
		});
	})();
	</script>

	<h2 id="getting-started">Getting started</h2>

		<h3 id="installation">Installation</h3>

		<h5>The classic way</h5>

		<ol>
			<li><a href="https://github.com/kamisama/cal-heatmap/archive/master.zip">Download</a> the latest version of Cal-Heatmap in your application</li>
			<li>Include the d3.js library
				<pre><code class="language-javascript">&lt;script type="text/javascript" src="//d3js.org/d3.v3.min.js">&lt;/script></pre></code>
				Or you can <a href="http://d3js.org/d3.v3.zip">download</a> it and use it locally
			</li>
			<li>Install Cal-HeatMap in your application by including the javascript and the css file
			<pre><code class="language-javascript">&lt;link rel="stylesheet" href="path/to/css/cal-heatmap.css" />
&lt;script type="text/javascript" src="path/to/cal-heatmap.min.js">&lt;/script></code></pre>
			</li>
		</ol>

		<h5>With Bower</h5>

		<pre><code class="language-javascript">bower install cal-heatmap</pre></code>

		<p>Then continue with step 3 of the classic way to include it in your application</p>

		<h5>With Jam</h5>

		<pre><code class="language-javascript">jam install cal-heatmap</pre></code>

		<p>Then continue with step 3 of the classic way to include it in your application</p>

		<p class="alert alert-info">Cal-Heatmap is compatible with AMD module.</p>

		<h3 id="basic-usage">Basic usage</h3>

		<p>Creating your first calendar is easy</p>

		<pre><code class="language-javascript">&lt;div id="cal-heatmap">&lt;/div>
&lt;script type="text/javascript">
	var cal = new CalHeatMap();
	cal.init({});
&lt;/script>
</code></pre>

		<p>By default, calling <code>init()</code> with an empty object will initialize a blank calendar of 12 hours, with 60 minutes each, starting from the current hour.</p>

		<p>Read the <a href="#data">data</a> section for how to fill the calendar with your own data, and the <a href="#itemSelector">presentation</a> section for the calendar layout.</p>

		<h3 id="browsers-support">Browsers support</h3>

		<p>Cal-Heatmap works on most modern browsers supporting SVG.</p>



	<h2 id="documentation">Documentation</h2>

		<p>Calendar can be customized by setting various options in the object passed to <code>init()</code>.</p>

		<h3 id="options">Options</h3>

			<div class="section-head">Presentation</div>

			<h4 id="itemSelector">itemSelector</h4>
			<div class="option-type">Selector string or Element</div>
			<div class="option-default"><code>#cal-heatmap</code></div>

			<p>DOM node to insert the calendar in.</p>

			<h5>With a Selector String</h5>

			<p>All <a href="http://www.w3.org/TR/css3-selectors/">CSS3</a> selectors can be used as a Selector String, so you can, for example, select by:</p>

			<table class="table table-condensed">
				<tr><td>tag</td><td><code>cal.init({
					itemSelector: "div"})</code></td></tr>
				<tr><td>ID</td><td><code>cal.init({
					itemSelector: "#id"})</code></td></tr>
				<tr><td>class</td><td><code>cal.init({
					itemSelector: ".class"})</code></td></tr>
				<tr><td>attribute</td><td><code>cal.init({
					itemSelector: "[title=hi]"})</code></td></tr>
				<tr><td>containement</td><td><code>cal.init({
					itemSelector: "div > span + b"})</code></td></tr>
			</table>

			<p class="alert alert-info">If the Selector String is returning multiple node, the first one will be used.</p>

			<h5>With a DOM Element</h5>

			<p>If you already have a reference to a DOM Element, you can directly use it.</p>
			<table class="table table-condensed">
				<tr>
					<td>getElementByID()</td>
					<td><code>cal.init({
						itemSelector: document.getElementByID("myId")
					});</code></td>
				</tr>
				<tr>
					<td>getElementsByClassName()</td>
					<td><code>cal.init({
						itemSelector: document.getElementsByClassName(".class")[0]
					});</code></td>
				</tr>
				<tr>
					<td>querySelector()</td>
					<td><code>cal.init({
						itemSelector: document.querySelector(".class")
					});</code></td>
				</tr>
				<tr>
					<td>jQuery Selector</td>
					<td><code>cal.init({
						itemSelector: $(".class")[0]
					});</code></td>
				</tr>
				<tr>
					<td>d3.js selector</td>
					<td><code>cal.init({
						itemSelector: d3.select(".class")[0][0]
					});</code></td>
				</tr>
			</table>


			<h4 id="domain">domain</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>hour</code></div>

			<p>Type of domain</p>

			<p>Valid domains:</p>

			<ul>
				<li>hour</li>
				<li>day</li>
				<li>week</li>
				<li>month</li>
				<li>year</li>
			</ul>

			<h4 id="subDomain">subDomain</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>min</code></div>
			<p>Type of subDomain</p>

			<p>Valid subDomains:</p>

			<ul>
				<li>min</li>
				<li>x_min</li>
				<li>hour</li>
				<li>x_hour</li>
				<li>day</li>
				<li>x_day</li>
				<li>week</li>
				<li>x_week</li>
				<li>month</li>
				<li>x_month</li>
			</ul>

			<p>By default, all subdomain cells are read from top to bottom, and from left to right. The <em>x_</em> variants are used to rotate the reading order to left to right, then top to bottom.</p>

			<div class="example clearfix empty-calendar">
				<style>
					#domain-a .subdomain-text, #domain-b .subdomain-text{
						fill: #000;
					}

					#domain-a .graph-label, #domain-b .graph-label {
						font-size: 18px;
						text-transform: uppercase;
						font-weight: bold
					}
				</style>
				<div>
					<div id="domain-a"></div>
					<p><code>day</code> subDomain</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domain-a",
	domain: "month",
	subDomain: "day",
	cellSize: 20,
	subDomainTextFormat: "%d",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="domain-b"></div>
					<p><code>x_day</code> subDomain</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domain-b",
	domain: "month",
	subDomain: "x_day",
	cellSize: 20, subDomainTextFormat: "%d",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<p>When not set, Cal-heatmap will decide the most appropriate subDomain for the current type of domain.</p>

			<p class="alert alert-error"><strong>Not all subDomains can be used with a domain.</strong><br/>
				Only "responsible" domain/subDomain couple are available,
				<br/>e.g: <code>{domain: "year",
					subDomain: "min"}</code> will <strong>not</strong> work.
				<br/><small>(Because painting one half million svg nodes will probably crash your browser ...)</small></p>

			<p class="alert">subDomain must always be smaller than domain.</p>

			<h4 id="range">range</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>12</code></div>

			<p>Number of domain to display</p>


			<h4 id="cellSize">cellSize</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>10</code></div>

			<p>Size of each subDomain cell, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="cellSize-a"></div>
					<p>Default cellSize of 10px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellSize-a",
	domain: "day",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="cellSize-b"></div>
					<p>cellSize of 15px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellSize-b",
	domain: "day",
	range: 1,
	cellSize: 15,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>



			<h4 id="cellPadding">cellPadding</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>2</code></div>

			<p>Space between each subDomain cell, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="cellPadding-a"></div>
					<p>Default cellPadding of 2px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellPadding-a",
	domain: "day",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="cellPadding-b"></div>
					<p>cellPadding of 5px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellPadding-b",
	domain: "day",
	range: 1,
	cellPadding: 5,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<h4 id="cellRadius">cellRadius</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>0</code></div>

			<p>subDomain cell's border radius, for rounder corner, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="cellRadius-a"></div>
					<p>Default cellRadius of 0px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellRadius-a",
	cellSize: 15,
	domain: "day",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="cellRadius-b"></div>
					<p>cellRadius of 5px</p>
					<style>
						#cellRadius-b { shape-rendering: optimizeSpeed;}
					</style>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#cellRadius-b",
	cellSize: 15,
	domain: "day",
	range: 1,
	cellRadius: 10,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-info">Set <code>shape-rendering</code> value to other than <code>crispedges</code> for better rendering.</p>

			<h4 id="domainGutter">domainGutter</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>2</code></div>

			<p>Space between each domain, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="domainGutter-a"></div>
					<p>Default domainGutter of 2px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainGutter-a",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="domainGutter-b"></div>
					<p>domainGutter of 10px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainGutter-b",
	domain: "day",
	range: 2,
	domainGutter: 10,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<h4 id="domainMargin">domainMargin</h4>
			<div class="option-type">integrer or Array</div>
			<div class="option-default"><code>[0, 0, 0, 0]</code></div>

			<p>Margin around each domain, in pixel.</p>

			<p>Ordered like in CSS (top, right, bottom, left), it also accepts CSS like values:</p>

			<ul>
				<li><code>0</code> and <code>[0]</code> is equivalent to <code>[0, 0, 0, 0]</code></li>
				<li><code>[0, 1]</code> is equivalent to <code>[0, 1, 0, 1]</code></li>
				<li><code>[0, 1, 2]</code> is equivalent to <code>[0, 1, 2, 1]</code></li>
			</ul>

			<div class="example clearfix empty-calendar">
				<style>
					#domainMargin-a .domain-background, #domainMargin-b .domain-background {
						fill: #eee;
					}
				</style>
				<div>
					<div id="domainMargin-a"></div>
					<p>No margin</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainMargin-a",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="domainMargin-b"></div>
					<p>10px margin</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainMargin-b",
	domain: "day",
	range: 2,
	displayLegend: false,
	domainMargin: 10
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-info"><code>domainMargin</code> is specially useful when coupled with the domain highlighting function.</p>

			<h4 id="verticalOrientation">verticalOrientation</h4>
			<div class="option-type">boolean</div>
			<div class="option-default"><code>false</code></div>

			<p>To display the calendar vertically, with each domain one under the other</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="verticalOrientation-a"></div>
					<p>Default horizontal orientation</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#verticalOrientation-a",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="verticalOrientation-b"></div>
					<p>Vertical orientation</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#verticalOrientation-b",
	domain: "day",
	range: 2,
	displayLegend: false,
	verticalOrientation: true
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-info">Use the <code>x_</code> variant subDomain for a more natural reading order.</p>

			<p class="alert alert-info">For a smoother reading, see the <a href="#label"><code>label</code></a> option to move the label position on the side.</p>

			<h4 id="label">label</h4>
			<div class="option-type">object</div>


			<p>Position and alignement of the domain label.</p>

			<p>It takes an object with up to 5 properties:</p>

			<table class="table table-bordered">
				<tr>
					<th>name</th>
					<th>default</th>
					<th>values</th>
					<th>description</th>
				</tr>

				<tr>
					<td>position</td>
					<td>bottom</td>
					<td>top, right, bottom, left</td>
					<td>Position of the label, relative to the domain</td>
				</tr>
				<tr>
					<td>align</td>
					<td>center</td>
					<td>left, center, right</td>
					<td>Horizontal align of the domain</td>
				</tr>
				<tr>
					<td>rotate</td>
					<td>null</td>
					<td>null, left, right</td>
					<td>Rotation for a vertical label</td>
				</tr>
				<tr>
					<td>width</td>
					<td>100</td>
					<td>any integer</td>
					<td>Only used when label is rotated, defines the width of the label</td>
				</tr>
				<tr>
					<td>offset</td>
					<td>{x:0, y:0}</td>
					<td>An object with x and y</td>
					<td>More control about label positioning, if the default value does not fit your need, especially when label is rotated, or when using a big font-size.</td>
				</tr>
			</table>

			<p class="alert">Default values are only for when label is positioned on bottom, without rotation.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="label-a"></div>
					<p>Label on bottom, centered</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-a",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="label-b"></div>
					<p>Label on top, centered</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-b",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "top"
	}
});
						})();
					</script>
				</div>
			</div>
			<div class="example clearfix empty-calendar">
				<div>
					<div id="label-c"></div>
					<p>Label on left</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-c",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "left",
		width: 46
	}
});
						})();
					</script>
				</div>
				<div>
					<div id="label-d"></div>
					<p>Label on right, with offset</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-d",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "right",
		width: 46,
		offset: {x: 10, y: 30}
	}
});
						})();
					</script>
				</div>
			</div>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="label-e"></div>
					<p>Label on left, rotate left</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-e",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "left",
		width: 46,
		rotate: "left"
	}
});
						})();
					</script>
				</div>
				<div>
					<div id="label-f"></div>
					<p>Label on right, rotated left, with a bigger width</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-f",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "right",
		width: 150,
		rotate: "left"
	}
});
						})();
					</script>
				</div>
			</div>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="label-g"></div>
					<p>Label on right, rotate left</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-g",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "right",
		width: 46,
		rotate: "left"
	}
});
						})();
					</script>
				</div>
				<div>
					<div id="label-h"></div>
					<p>Label on right. rotate left, aligned right</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#label-h",
	domain: "day",
	range: 2,
	displayLegend: false,
	label: {
		position: "right",
		width: 46,
		rotate: "right",
		align: "right"
	}
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-success"><strong><i class="icon icon-magic"></i>Styling tips</strong><br/>
				Use <code>.graph-label</code> to style the label.
			</p>

			<div class="section-head">Data</div>

			<h4 id="start">start</h4>
			<div class="option-type">Date</div>
			<div class="option-default"><code>new Date()</code></div>

			<p>Starting date of the calendar</p>

			<p>It doesn't have to be precise, the calendar will not start at that date, but at the first domain containing that date.</p>

			<div class="example-bloc">
				<h5>Example</h5>
				<p>For the date: January 15, 2000 @15:36 :</p>

				<ul>
					<li>When domain is <b>month</b>: calendar will start on January 1st, 2000, @00:00</li>
					<li>When domain is <b>day</b>: calendar will start on January 15th, 2000, @00:00</li>
					<li>When domain is <b>hour</b>: calendar will start on January 15th, 2000, @15:00</li>
				</ul>
			</div>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="start-a"></div>
					<p>Starting today</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#start-a",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="start-b"></div>
					<p>Starting January 15th, 2000</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#start-b",
	domain: "day",
	range: 2,
	start: new Date(2000, 0, 15),
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<h4 id="data">data</h4>
			<div class="option-type">String or Json object</div>
			<div class="option-default"><code>""</code></div>

			<p>Data used to fill the calendar.</p>

			<p>It can accepts either a string, or a json object</p>

			<h5>String</h5>

			<p>The string is interpreted as an URL to an API, which should be returning the data used to fill the calendar.</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	data: "http://localhost/datas.json"
});
</code></pre>

			<p>
			The data must be formatted according to the expected <a href="$data-format">data format</a>. In case it's not possible, you should first set the correct <a href="#dataType"><code>dataType</code></a> if it's not returning a json response, then use the <a href="#afterLoadData"><code>afterLoadData()</code></a> to transform the data into the <a href="#data-format">expected format</a>.
			</p>

			<p>4 template strings are available to limit the scope of data returned by the API</p>

			<table class="table table-condensed">
				<tr>
					<th>Value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>{t:start}</code></td>
					<td>Timestamp of the first subDomain cell</td>
				</tr>
				<tr>
					<td><code>{t:end}</code></td>
					<td>Timestamp of the last subDomain cell</td>
				</tr>
				<tr>
					<td><code>{d:start}</code></td>
					<td>ISO-8601 formatted date of the first subDomain cell</td>
				</tr>
				<tr>
					<td><code>{d:end}</code></td>
					<td>ISO-8601 formatted date of the last subDomain cell</td>
				</tr>
			</table>

			<p>The first time, the first subDomain cell will be the one in the first domain, and the last subDomain cell, the one in the last domain, so that, if your calendar have 5 domains, it'll get the datas for the 5 domains.</p>

			<p>For each subsequent call, like when loading new domains dynamically with <a href="#next"><code>next()</code></a> and <a href="#previous"><code>previous()</code></a>, the first and last subDomain cell will only be the ones inside the newly loaded domain.</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	start: new Date(2000, 0); // January, 1st 2000
	range: 12,
	domain: "year",
	subDomain: "month",
	data: "http://localhost/api?start={d:start}&stop={d:stop}"
});

/*
	{d:start} === 2000-01-01T00:00:00Z
	{d:end}   === 2000-12-31T23:59:59Z
	=> Fetch 12 months
 */

cal.next(); // Load January 2001

/*
	{d:start} === 2001-01-01T00:00:00Z
	{d:end}   === 2001-01-31T23:59:59Z
	=> Fetch 1 month
 */
</code></pre>

			<h5>Json Object</h5>

			<p>The object will be used to fill the calendar.</p>

			<p>Again, if the object is not formatted according to the <a href="#data-format">expected format</a>, use <a href="#afterLoadData"><code>afterLoadData()</code></a> callback to transform it.</p>

			<h4 id="dataType">dataType</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>json</code></div>

			<p>Engine used to parse the data.</p>

			<table class="table table-condensed">
				<tr>
					<th>Value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>json</code></td>
					<td>Interpret the data as json</td>
				</tr>
				<tr>
					<td><code>csv</code></td>
					<td>Interpret the data as <a href="http://tools.ietf.org/html/rfc4180">csv</a></td>
				</tr>
				<tr>
					<td><code>tsv</code></td>
					<td>Interpret the data exactly like <code>csv</code>, but are delimited with a tab character, instead of a comma.</td>
				</tr>
				<tr>
					<td><code>txt</code></td>
					<td>Just return the data as a string</td>
				</tr>
			</table>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	data: "http://localhost/datas.csv",
	dataType: "csv"
});
</code></pre>


			<p class="alert alert-info">When using the <code>txt</code> dataType, the data is returned as a plain text. You have to use the <a href="#afterLoadData"><code>afterLoadData()</code></a> callback to transform it to the expected <a href="#data-format">data format</a>.</p>

			<h4 id="highlight">highlight</h4>
			<div class="option-type">String or Array</div>
			<div class="option-default"><code>false</code></div>

			<p>Highlight selected subDomain cells.</p>

			<p>Takes an array of Date object. Can also accepts the <code>now</code> string, equivalent to <code>Date.now()</code>.</p>

			<div class="example-bloc">
				<h5>Example</h5>
				<ul>
					<li><code>{highlight: "now"}</code></li>
					<li><code>{highlight: ["now"]}</code></li>
					<li><code>{highlight: ["now",
							new Date(2000, 1, 15)]}</code></li>
				</ul>
			</div>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="highlight-a"></div>
					<p>Highlight current hour, and tomorrow at the same hour</p>
					<script>
						(function() {
var cal = new CalHeatMap();
var dt = new Date();
dt.setDate(dt.getDate() + 1);
cal.init({
	itemSelector: "#highlight-a",
	domain: "day",
	range: 2,
	displayLegend: false,
	highlight: ["now", dt]

});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-success"><strong><i class="icon icon-magic"></i>Styling tips</strong><br/>
				The <code>.highlight</code> class is used to style highlighted cells.<br/>
				Additionally, a <code>.now</code> is also applied when the highlighted cells correspond to the current time.<br/><br/>
				Use <code>rect.highlight</code>/<code>rect.now</code> and <code>text.highlight</code>/<code>text.now</code> to style the cell and the text inside respectively.
				</p>

			<p class="alert">See the <a href="#domain-highlight">domain highlighting section</a> if you want to highlight the entire domain.</p>


			<h4 id="weekStartOnMonday">weekStartOnMonday</h4>
			<div class="option-type">boolean</div>
			<div class="option-default"><code>true</code></div>

			<p>Whether to start the week on Monday, instead of Sunday.</p>

			<div class="example clearfix empty-calendar">
				<style>
					#weekStartOnMonday-a .subdomain-text, #weekStartOnMonday-b .subdomain-text{
						fill: #000;
					}

					#weekStartOnMonday-a .graph-label, #weekStartOnMonday-b .graph-label {
						font-size: 18px;
						text-transform: uppercase;
						font-weight: bold
					}
				</style>
				<div>
					<div id="weekStartOnMonday-a"></div>
					<p>First column is Monday</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#weekStartOnMonday-a",
	domain: "month",
	subDomain: "x_day",
	cellSize: 20,
	subDomainTextFormat: "%d",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="weekStartOnMonday-b"></div>
					<p>First column is Sunday</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#weekStartOnMonday-b",
	domain: "month",
	subDomain: "x_day",
	cellSize: 20,
	subDomainTextFormat: "%d",
	range: 1,
	weekStartOnMonday: false,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>

			<div class="section-head">Legend</div>

			<h4 id="legend">legend</h4>
			<div class="option-type">Array</div>
			<div class="option-default"><code>[10, 20, 30, 40]</code></div>

			<p>Assign each color in the heatmap to a range of values.</p>

			<p>It accepts an array of any number of arguments, as long as they are number, and in ascendent order.<br/>
			An array of n values will generate a legend of 5 colors. Each colors correspond to a css class, formatted like <code>q{n}</code>.
			</p>

			<div class="example-bloc">
				<h5>Example</h5>


				<p>With <code>[10, 20, 30, 40]</code>, you end up with 5 colors:</p>

				<table class="table table-condensed">
					<tr>
						<th>CSS Class</th>
						<th>Range</th>
					</tr>
					<tr>
						<td>.q1</td>
						<td>Less than 10</td>
					</tr>
					<tr>
						<td>.q2</td>
						<td>Between 10 and 20</td>
					</tr>
					<tr>
						<td>.q3</td>
						<td>Between 20 and 30</td>
					</tr>
					<tr>
						<td>.q4</td>
						<td>Between 30 and 40</td>
					</tr>
					<tr>
						<td>.q5</td>
						<td>More than 40</td>
					</tr>
				</table>
			</div>

			<p>By default, the CSS only cames with 5 <em>.q{n}</em> class. You're free to add your own if needed, and modify the colors of the existing one.</p>

			<div class="example clearfix empty-calendar">
				<span class="tips">Hover on a legend cell to see the associated range</span>
				<div>
					<div id="legend-a"></div>
					<p>Default legend</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legend-a",
	domain: "day",
	range: 2
});
						})();
					</script>
				</div>
				<div>
					<div id="legend-b"></div>
					<p>Float and negative legend values</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legend-b",
	domain: "day",
	range: 2, legend: [-2.5, 0, 2.5]
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-success"><strong><i class="icon icon-magic"></i>Styling tips</strong><br/>
				<code>.graph-rect</code> style is applied to all subDomain cells, and used by default when the cell os not associated to a value.</p>


			<h4 id="displayLegend">displayLegend</h4>
			<div class="option-type">boolean</div>
			<div class="option-default"><code>true</code></div>

			<p>Whether to display the legend.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="displayLegend-a"></div>
					<p>Legend</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#displayLegend-a",
	domain: "day",
	range: 2
});
						})();
					</script>
				</div>
				<div>
					<div id="displayLegend-b"></div>
					<p>No legend</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#displayLegend-b",
	domain: "day",
	range: 2,
	displayLegend: false
});
						})();
					</script>
				</div>
			</div>


			<h4 id="legendCellSize">legendCellSize</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>10</code></div>

			<p>Size of the legend cells, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="legendCellSize-a"></div>
					<p>Default legendCellSize of 10px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendCellSize-a",
	domain: "day",
	range: 2
});
						})();
					</script>
				</div>
				<div>
					<div id="legendCellSize-b"></div>
					<p>legendCellSize of 5px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendCellSize-b",
	domain: "day",
	range: 2, legendCellSize: 5
});
						})();
					</script>
				</div>
			</div>

			<h4 id="legendCellPadding">legendCellPadding</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>2</code></div>

			<p>Padding between each legend cell, in pixel.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="legendCellPadding-a"></div>
					<p>Default legendCellPadding</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendCellPadding-a",
	domain: "day",
	range: 3
});
						})();
					</script>
				</div>
				<div>
					<div id="legendCellPadding-b"></div>
					<p>legendCellPadding of 5px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendCellPadding-b",
	domain: "day",
	range: 3, legendCellPadding: 5
});
						})();
					</script>
				</div>
			</div>

			<h4 id="legendMargin">legendMargin</h4>
			<div class="option-type">integer or Array</div>
			<div class="option-default"><code>[10, 0, 0, 0]</code></div>

			<p>Margin around the legend, in pixel</p>

			<div class="example clearfix empty-calendar">
				<style>
					#legendMargin-a .graph-legend, #legendMargin-b .graph-legend {
						fill: #000;
					}
				</style>
				<div>
					<div id="legendMargin-a"></div>
					<p>Default legendMargin</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendMargin-a",
	domain: "day",
	range: 3
});
						})();
					</script>
				</div>
				<div>
					<div id="legendMargin-b"></div>
					<p>Margin of 50px on top and left</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendMargin-b",
	domain: "day",
	range: 3,
	legendMargin: [50, 0, 0, 50]
});
						})();
					</script>
				</div>
			</div>

			<h4 id="legendVerticalPosition">legendVerticalPosition</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>bottom</code></div>

			<p>Vertical position of the legend.</p>

			<table class="table-condensed table">
				<tr>
					<th>Value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>top</code></td>
					<td>Place the legend above the calendar</td>
				</tr>
				<tr>
					<td><code>bottom</code></td>
					<td>Place the legend below the calendar</td>
				</tr>
			</table>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="legendVerticalPosition-a"></div>
					<p>Default legendVerticalPosition</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendVerticalPosition-a",
	domain: "day",
	range: 2
});
						})();
					</script>
				</div>
				<div>
					<div id="legendVerticalPosition-b"></div>
					<p>legend on top, with a legend margin-bottom of 10px</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendVerticalPosition-b",
	domain: "day",
	range: 2,
	legendVerticalPosition: "top",
	legendMargin: [0,0,10,0]
});
						})();
					</script>
				</div>
			</div>

			<h4 id="legendHorizontalPosition">legendHorizontalPosition</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>left</code></div>

			<p>Horizontal position of the legend.</p>

			<table class="table-condensed table">
				<tr>
					<th>Value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>left</code></td>
					<td>Align the legend to the left</td>
				</tr>
				<tr>
					<td><code>center</code></td>
					<td>Center the legend</td>
				</tr>
				<tr>
					<td><code>right</code></td>
					<td>Align the legend to the right</td>
				</tr>
			</table>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="legendHorizontalPosition-a"></div>
					<p>Default legendHorizontalPosition</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendHorizontalPosition-a",
	domain: "day",
	range: 3
});
						})();
					</script>
				</div>
				<div>
					<div id="legendHorizontalPosition-b"></div>
					<p>legend align on the right</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendHorizontalPosition-b",
	domain: "day",
	range: 3,
	legendHorizontalPosition: "right"
});
						})();
					</script>
				</div>
			</div>

			<div class="section-head">i18n</div>



			<h4 id="itemName">itemName</h4>
			<div class="option-type">String or Array</div>
			<div class="option-default"><code>["item",
					"items"]</code></div>

			<p>Name of the entity you're representing on the calendar.</p>

			<p>Takes an array of String, with the first index as singular form, and the second index, the plural form.</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	itemName: ["cat", "cats"]
});</code></pre>

			<p>For the lazy, you can also pass a simple string, ar a single element array, and it'll automatically guess the plural form, as long as it's the singular form plus the "s" suffix.</p>

			<p>The 2 following examples are the same as the one above</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	itemName: "cat"
});</code></pre>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	itemName: ["cat"]
});</code></pre>



			<h4 id="subDomainTitleFormat">subDomainTitleFormat</h4>
			<div class="option-type">Object</div>

			<p>Format of the title displayed when hovering a subDomain.</p>

			<p>Takes an object with 2 properties:</p>

			<table class="table-condensed table">
				<tr>
					<th>Property name</th>
					<th>Default value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>empty</code></td>
					<td><code>{date}</code></td>
					<td>Format of the title when there is no value associated to the date.</td>
				</tr>
				<tr>
					<td><code>filled</code></td>
					<td><code>{count} {name} {connector} {date}</code></td>
					<td>Format of the title when it's associated to a value</td>
				</tr>
			</table>

			<p>Some template string are available, and enclosed in braces.</p>

			<table class="table">
				<tr>
					<th>Template</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>{name}</code></td>
					<td>Name of the entity represented in the calendar (see <a href="#itemName"><code>itemName</code></a>)</td>
				</tr>
				<tr>
					<td><code>{count}</code></td>
					<td>The value associated to the date</td>
				</tr>
				<tr>
					<td><code>{date}</code></td>
					<td>The date of the cell. It's automatically formatted according to the type of subDomain. <br/>
						See <code>subDomainDateFormat</code> to further customize that date formatting.</td>
				</tr>
				<tr>
					<td><code>{connector}</code></td>
					<td>An english preposition placed before a datetime (<em>on</em> Monday, <em>at</em> 15:00, etc..). Each subDomain have their own default connector, corresponding to the default date format.</td>
				</tr>

			</table>

			<h4 id="subDomainDateFormat">subDomainDateFormat</h4>
			<div class="option-type">String or function</div>

			<p>Format of the <code>{date}</code> template string inside <code>subDomainTitleFormat</code>.</p>

			<p><code>{date}</code> is by default formatted according to the subDomain type.</p>

			<div class="example-bloc">
				<h6>Example</h6>

				<ul>
					<li>With a <code>month</code> subDomain, it'll return something like <b>January, 2000</b></li>
					<li>With a <code>week</code> subDomain, it'll return for example <b>Week #1</b></li>
					<li>With a <code>hour</code> subDomain, it'll return <b>20h, January 6th, 2000</b></li>
				</ul>
			</div>

			<p><code>subDomainDateFormat</code> can accepts any string with directive accepted by <a href="https://github.com/mbostock/d3/wiki/Time-Formatting">d3.time.format()</a>, like <code>"%Y-%m-%d".</code></p>

			<p>As <a href="https://github.com/mbostock/d3/wiki/Time-Formatting">d3.time.format()</a> will only output english dates, <code>subDomainDateFormat</code> can also accepts a function, with the subDomain date as argument.</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	subDomainDateFormat: function(date) {
		return moment(date).format("LL"); // Use the moment library to format the Date
	}
});
</code></pre>

			<h4 id="subDomainTextFormat">subDomainTextFormat</h4>
			<div class="option-type">String or function</div>

			<p>Format of the text inside a subDomain cell.</p>

			<p>Disabled by default, you can display a text inside each subDomain cell. Works exactly like <code>subDomainDateFormat</code>.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="subDomainTextFormat-a"></div>
					<p>Default, no text</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#subDomainTextFormat-a",
	domain: "month",
	subDomain: "x_day",
	cellSize: 20,
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="subDomainTextFormat-b"></div>
					<p>Display the date in cell</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#subDomainTextFormat-b",
	domain: "month",
	subDomain: "x_day",
	cellSize: 20,
	range: 1,
	displayLegend: false,
	subDomainTextFormat: "%d"
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-success"><strong><i class="icon icon-magic"></i>Styling tips</strong><br/>
				Use <code>.subdomain-text</code> in your CSS to style the text. Text is centered horizontally and vertically, and can not by changed.</p>

			<h4 id="domainLabelFormat">domainLabelFormat</h4>
			<div class="option-type">String or function</div>

			<p>Format of the domain label.</p>

			<p>Works exactly like <a href="#subDomainDateFormat"><code>subDomainDateFormat</code></a>, and will format the domain label with any string accepted by <a href="https://github.com/mbostock/d3/wiki/Time-Formatting">d3.time.format()</a>, or a function.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<div id="domainLabelFormat-a"></div>
					<p>Default label according to the domain type</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainLabelFormat-a",
	domain: "month",
	subDomain: "day",
	range: 1,
	displayLegend: false
});
						})();
					</script>
				</div>
				<div>
					<div id="domainLabelFormat-b"></div>
					<p>Custom domain label</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domainLabelFormat-b",
	domain: "month",
	subDomain: "day",
	range: 1,
	displayLegend: false,
	domainLabelFormat: "%m-%Y"
});
						})();
					</script>
				</div>
			</div>

			<p class="alert alert-info">See <a href="#subDomainDateFormat"><code>subDomainDateFormat</code></a> for more infos on accepted values.</p>


			<h4 id="legendTitleFormat">legendTitleFormat</h4>
			<div class="option-type">Object</div>

			<p>Formatting of the legend title,
				displayed when hovering a legend cell.</p>

			<p>It takes an object with up to 3 properties:</p>

			<table class="table table-condensed">
				<tr>
					<th>Property</th>
					<th>Default value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>lower</td>
					<td><code>less than {min} {name}</code></td>
					<td>Formatting of the smallest (leftmost) value of the legend</td>
				</tr>
				<tr>
					<td>inner</td>
					<td><code>between {down} and {up} {name}</code></td>
					<td>Formatting of all the value but the first and the last</td>
				</tr>
				<tr>
					<td>upper</td>
					<td><code>more than {max} {name}</code></td>
					<td>Formatting of the biggest (rightmost) value of the legend</td>
				</tr>
			</table>

			<p>Some template string are available, and enclosed in braces.</p>

			<table class="table">
				<tr>
					<th>Template</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><code>{name}</code></td>
					<td>Name of the entity represented in the calendar (see <a href="#itemName"><code>itemName</code></a>)</td>
				</tr>
				<tr>
					<td><code>{min}</code></td>
					<td>The first value of the <a href="#legend"><code>legend</code></a> array.</td>
				</tr>
				<tr>
					<td><code>{max}</code></td>
					<td>The last value of the <a href="#legend"><code>legend</code></a> array.</td>
				</tr>
				<tr>
					<td><code>{down}</code></td>
					<td>The lower bound of a color</td>
				</tr>
				<tr>
					<td><code>{up}</code></td>
					<td>The upper bound of a color</td>
				</tr>
			</table>

			<div class="example clearfix empty-calendar">
				<div>
					<span class="tips">Hover over the legend cells to see how it's formatted</span>
					<div id="legendTitleFormat-a"></div>
					<p></p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#legendTitleFormat-a",
	domain: "day",
	range: 3
});
						})();
					</script>
				</div>
				<div></div>
			</div>

			<h4 id="animationDuration">animationDuration</h4>
			<div class="option-type">integer</div>
			<div class="option-default"><code>500</code></div>

			<p>Animation duration, in milliseconds.</p>

			<div class="example clearfix empty-calendar">
				<div style="float:none;margin-bottom: 20px;">
					<button class="btn" id="animationDuration-previous">Previous</button>
					<button class="btn" id="animationDuration-next">Next</button>
				</div>

				<div>
					<div id="animationDuration-a"></div>
					<p>500ms</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#animationDuration-a",
	domain: "day",
	range: 4,
	previousSelector: "#animationDuration-previous",
	nextSelector: "#animationDuration-next",
	itemNamespace: "animationDuration-a"
});
						})();
					</script>
				</div>
				<div>
					<div id="animationDuration-b"></div>
					<p>1.5 second</p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#animationDuration-b",
	domain: "day",
	range: 4, animationDuration: 1500,
	previousSelector: "#animationDuration-previous",
	nextSelector: "#animationDuration-next",
	itemNamespace: "animationDuration-b"
});
						})();
					</script>
				</div>
			</div>

			<h4 id="previousSelector">previousSelector</h4>
			<div class="option-type">String selector or Element</div>
			<div class="option-default"><code>false</code></div>

			<p>Will attach the <a href="#previous"><code>previous()</code></a> event to the specified element, on a mouse click, shifting the calendar one domain back.</p>

			<div class="example clearfix empty-calendar">


				<div>
					<div id="previousSelector-a"></div>
					<p>Targeting a simple #ID</p>

					<div style="float:none;margin-top: 20px;">
						<button class="btn" id="previousSelector-a-previous">Previous</button>
						<button class="btn" id="previousSelector-a-next">Next</button>
					</div>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#previousSelector-a",
	domain: "day",
	range: 4,
	previousSelector: "#previousSelector-a-previous",
	nextSelector: "#previousSelector-a-next"
});
						})();
					</script>
				</div>
				<div>
					<div id="previousSelector-b"></div>
					<p>Using a more complex Selector String</p>

					<div style="float:none;margin-top: 20px;" id="example-previousSelector">
						<ul title="next">
							<li><em>Next</em></li>
							<li>Next (ignored)</li>
							<li>Next (ignored)</li>
						</ul>
						<p>Then, let's <em>go back</em> to the previous domain.</p>
					</div>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#previousSelector-b",
	domain: "day",
	range: 4,
	previousSelector: "#example-previousSelector  ul + p > em",
	nextSelector: "#example-previousSelector [title=next] li"
});
						})();
					</script>
				</div>
			</div>


			<p class="alert alert-info">See <a href="#itemSelector"><code>itemSelector</code></a> for details about String Selector and Element type.</p>

			<h4 id="nextSelector">nextSelector</h4>
			<div class="option-type">String selector or Element</div>
			<div class="option-default"><code>false</code></div>

			<p>Will attach the <a href="#next"><code>next()</code></a> event to the specified element, on a mouse click, shifting the calendar one domain forward.</p>

			<p class="alert alert-info">See <a href="#previousSelector"><code>previousSelector</code></a> for an example.</p>

			<p class="alert alert-info">See <a href="#itemSelector"><code>itemSelector</code></a> for details about String Selector and Element type.</p>

			<h4 id="itemNamespace">itemNamespace</h4>
			<div class="option-type">String</div>
			<div class="option-default"><code>cal-heatmap</code></div>

			<p>The calendar instance namespace.</p>

			<p>If you have more than one instance of Cal-Heatmap, you should assign each instance its own namespace, in order to isolate each instance event handler.</p>

			<p>This will <em>not</em> work</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	nextSelector: "#next" // Attach #next onClick event to cal.next()

});

var cal2 = new CalHeatMap();
cal2.init({
	nextSelector: "#next" // Attach #next onClick event to cal2.next(), overiding cal.next()

});
</code></pre>

			<p>This will work</p>

			<pre><code class="language-javascript">var cal = new CalHeatMap();
cal.init({
	nextSelector: "#next",
		// Attach #next.cal onClick event to cal.next()
	itemNamespace: "cal"

});

var cal2 = new CalHeatMap();
cal2.init({
	nextSelector: "#next",
		// Attach #next.cal2 onClick event to cal2.next()
	itemNamespace: "cal2"

});
</code></pre>

		<h3 id="methods">Methods</h3>

		<p>Beside <code>init()</code>, Cal-HeatMap also boast other methods to control the behavior of the calendar.</p>

			<h4 id="previous">previous()</h4>
			<div class="option-type"></div>
			<p>Shift the calendar one domain back</p>

			<pre><code class="language-javascript">var cal = new CalHeatmap();
cal.init({});
cal.previous();
</code></pre>
			<p class="alert alert-info">See <a href="#previousSelector"><code>previousSelector</code></a> if you wish to directly attach <code>previous()</code> to an Element mouse click event.</p>

			<h4 id="next">next()</h4>
			<div class="option-type"></div>
			<p>Shift the calendar one domain forward</p>

			<pre><code class="language-javascript">var cal = new CalHeatmap();
cal.init({});
cal.next();
</code></pre>

			<p class="alert alert-info">See <a href="#previousSelector"><code>nextSelector</code></a> if you wish to directly attach <code>next()</code> to an Element mouse click event.</p>



			<h4 id="getSVG">getSVG()</h4>
			<div class="option-type"></div>
			<p>Return the SVG source code with the appropriate CSS</p>

			<p class="alert alert-error">Still buggy</p>

		<h3 id="events">Events</h3>

			<h4 id="onClick">onClick(date, value)</h4>
			<div class="option-type"></div>

			<p>Called after a mouse click event on a subDomain cell.</p>

			<div class="example clearfix">
				<div>
					<div id="onClick-a"></div>
					<p></p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#onClick-a",
	domain: "day",
	range: 5, data: "datas-years.json",
	start: new Date(2000, 0),
	onClick: function(date, nb) {
		$("#onClick-placeholder").html("You just clicked <br/>on <b>" +
			date + "</b> <br/>with <b>" +
			(nb === null ? "unknown" : nb) + "</b> items"
		);
	}
});
						})();
					</script>
				</div>
				<div>
					<span id="onClick-placeholder">Click a date on the calendar</span>
				</div>
			</div>

			<p class="alert alert-success"><strong><i class="icon icon-magic"></i>Styling tips</strong><br/>
				<code>.hover_cursor</code> style is applied to all clickable cells.
			</p>

			<h4 id="afterLoad">afterLoad()</h4>
			<div class="option-type"></div>
			<p>Called after drawing the empty calendar, and before filling it with data.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<button id="afterLoad-init" style="display:block;margin-bottom: 10px;" class="btn"><i class="icon icon-pencil"></i> Draw the calendar</button>
					<div id="afterLoad-a"></div>
					<p></p>
					<script>
						(function() {
var start;
var end;

$("#afterLoad-init").on("click",
		function(e) {
	start = Date.now();
	$("#afterLoad-placeholder").empty().append("- Start drawing the calendar");
	init();
	$(this).remove();

});

function init() {
	var cal = new CalHeatMap();
	cal.init({
		itemSelector: "#afterLoad-a",
		domain: "day",
		range: 5,
		afterLoad: function() {
			end = Date.now();

			$("#afterLoad-placeholder").append(
				"<br/>- The blank calendar was drawn in <b>" + (end - start) + "</b> ms"
			);
		},
		onComplete: function() {
			end = Date.now();

			$("#afterLoad-placeholder").append(
				"<br/>- The calendar was filled and completed in <b>" + (end - start) + "</b> ms"
			);
		}
	});
}
						})();
					</script>
				</div>
				<div>

					<span id="afterLoad-placeholder">Calendar waiting to be drawn ...</span>
				</div>
			</div>

			<h4 id="afterLoadPreviousDomain">afterLoadPreviousDomain(date)</h4>
			<div class="option-type"></div>
			<p>Called after shifting the calendar one domain back.</p>

			<p>The <code>date</code> argument is the start date of the domain that was added.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<button id="afterLoadPreviousDomain-selector" style="display:block;margin-bottom: 10px;" class="btn"><i class="icon icon-chevron-left"></i> Load previous domain</button>
					<div id="afterLoadPreviousDomain-a"></div>
					<p></p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#afterLoadPreviousDomain-a",
	domain: "day",
	range: 5, afterLoadPreviousDomain: function(date) {
		$("#afterLoadPreviousDomain-placeholder").html(
			"The domain starting on <br/><b>" + date + "</b><br/> was just loaded"
		);
	},
	previousSelector: "#afterLoadPreviousDomain-selector"

});
						})();
					</script>
				</div>
				<div>

					<span id="afterLoadPreviousDomain-placeholder">No previous domain loaded yet</span>
				</div>
			</div>

			<h4 id="afterLoadNextDomain">afterLoadNextDomain(date)</h4>
			<div class="option-type"></div>
			<p>Called after shifting the calendar one domain forward.</p>

			<p>The <code>date</code> argument is the start date of the domain that was added.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<button id="afterLoadNextDomain-selector" style="display:block;margin-bottom: 10px;" class="btn">Load next domain <i class="icon icon-chevron-right"></i></button>
					<div id="afterLoadNextDomain-a"></div>
					<p></p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#afterLoadNextDomain-a",
	domain: "day",
	range: 5, afterLoadNextDomain: function(date) {
		$("#afterLoadNextDomain-placeholder").html(
			"The domain starting on <br/><b>" + date + "</b><br/> was just loaded"
		);
	},
	nextSelector: "#afterLoadNextDomain-selector"
});
						})();
					</script>
				</div>
				<div>

					<span id="afterLoadNextDomain-placeholder">No next domain loaded yet</span>
				</div>
			</div>

			<h4 id="onComplete">onComplete()</h4>
			<div class="option-type"></div>
			<p>Called after drawing and filling the calendar.</p>

			<p>Useful in case you're loading data via ajax, as it's loading data asynchronously.</p>

			<div class="example clearfix empty-calendar">
				<div>
					<button id="onComplete-init" style="display:block;margin-bottom: 10px;" class="btn"><i class="icon icon-pencil"></i> Draw the calendar</button>
					<div id="onComplete-a"></div>
					<p></p>
					<script>
						(function() {
var start = Date.now();
var end;

$("#onComplete-init").on("click",
		function(e) {
	init();
	$(this).remove();

});

function init() {
	var cal = new CalHeatMap();
	cal.init({
		itemSelector: "#onComplete-a",
		domain: "day",
		range: 5,
		onComplete: function() {
			end = Date.now();
			$("#onComplete-placeholder").html(
				"- The calendar was loaded in <b>" + (end - start) + "</b> ms"
			);

			$("#onComplete-placeholder").append("<br>- The calendar height is " + $("#onComplete-a").height() + " pixels");
			$("#onComplete-placeholder").append("<br>- The calendar width is " + $("#onComplete-a").width() + " pixels");
			$("#onComplete-placeholder").append("<br>- Setting the opacity of the calendar to 0.5, with 2 seconds animation");

			$("#onComplete-a").animate({opacity: 0.5}, 2000, function() {
				$("#onComplete-placeholder").append("<br/>- Animation complete");
			});
		}
	});
}
						})();
					</script>
				</div>
				<div>
					<span id="onComplete-placeholder">Calendar waiting to be drawn</span>
				</div>
			</div>

			<h4 id="afterLoadData">afterLoadData(data)</h4>
			<div class="option-type"></div>
			<p>Called after getting the data from source, but before filling the calendar.</p>

			<p>This callback must return a json object formatted in the <a href="#data-format">expected data format</a>.

			<p><code>afterLoadData()</code> is used to do some works on the data, especially when the data source is not returning data in the expected format.</p>

		<pre><code class="language-javascript">// datas is an array of object
var datas = [
	{date: 946702811, value: 15},
	{date: 946702812, value: 25},
	{date: 946702813, value: 10}
]

var parser = function(data) {
	var stats = {};
	for (var d in data) {
		stats[data[d].date] = data[d].value;
	}
	return stats;
};

/* Parser will output the object
{
	"946702811": 15,
	"946702812": 25,
	"946702813": 10
}*/

var cal = new CalHeatMap();
cal.init({
	data: datas,
	afterLoadData: parser
});
</code></pre>

	<h2 id="data-format">Data Format</h2>

	<p>Cal-Heatmap only undestand data formatted in a JSON object like:</p>

<pre><code class="language-javascript">{
	"timestamp": value,
	"timestamp2": value2,
	...
}</code></pre>

	<p class="alert"><code>timestamp</code> is in seconds.</p>

	<p>All timestamps belonging to the same subDomain will be stacked together, and all subDomains with no associated data will be considered as empty (no data), and <strong>does not fallback to value = 0</strong>.</p>


	<h2 id="domain-highlight">Domain Highlighting</h2>

	<p>Opposed to <a href="#highlight">subDomain Highlight</a>, domain highlighting is "passive", you don't need to inject code into the calendar to highlight a domain, you have to edit the stylesheet.</p>

	<p>Each domain have a set of class according to a date.</p>

	<table class="table table-condensed">
		<tr>
			<td><code>y_xxxx</code></td>
			<td>Year, xxxx is a four digit year</td>
		</tr>
		<tr>
			<td><code>m_1</code> to <code>m_12</code></td>
			<td>From January to December</td>
		</tr>
		<tr>
			<td><code>w_1</code> to <code>w_54</code></td>
			<td>Week 1 to Week 54</td>
		</tr>
		<tr>
			<td><code>d_1</code> to <code>d_31</code></td>
			<td>Day of the month</td>
		</tr>
		<tr>
			<td><code>h_0</code> to <code>h_23</code></td>
			<td>From 00h to 23h</td>
		</tr>
	</table>

	<div class="example-bloc">
		<h5>Example</h5>

		<ul>
			<li>The domain <b>January 2000</b> will have the classes <code>y_2000</code> and <code>m_1</code></li>
			<li>The domain <b>January 1st, 2000 @15h</b> will have the classes <code>y_2000</code>, <code>m_1</code>, <code>w_1</code>, <code>d_1</code> and <code>h_15</code></li>
		</ul>
	</div>

	<p>To highlight January 2000, you can use</p>

	<pre><code class="language-css">/* Apply a red background to january 2000 */
.y_2000.m_1 .domain-background {
	fill: red;
}</code></pre>

	<p>For better result, apply some margin with <a href="#domainMargin"><code>domainMargin</code></a>.</p>

	<p>You can also apply some "recursive" style, to highlight sleep hours.</p>

	<pre><code class="language-css">.h_23 .domain-background, .h_0 .domain-background, .h_1 .domain-background, .h_2 .domain-background, .h_3 .domain-background, .h_4 .domain-background, .h_5 .domain-background, .h_6 .domain-background, .h_7 .domain-background {
	fill: steelblue;
}
.h_23 .graph-label, .h_0 .graph-label, .h_1 .graph-label, .h_2 .graph-label, .h_3 .graph-label, .h_4 .graph-label, .h_5 .graph-label, .h_6 .graph-label, .h_7 .graph-label {
	fill: #fff;
}</code></pre>

	<div class="example clearfix empty-calendar">
				<div>
					<style>
						#domain-highlight-a .h_23 .domain-background, #domain-highlight-a .h_0 .domain-background, #domain-highlight-a .h_1 .domain-background, #domain-highlight-a .h_2 .domain-background, #domain-highlight-a .h_3 .domain-background, #domain-highlight-a .h_4 .domain-background, #domain-highlight-a .h_5 .domain-background, #domain-highlight-a .h_6 .domain-background, #domain-highlight-a .h_7 .domain-background {
							fill: steelblue;
						}
						#domain-highlight-a .h_23 .graph-label, #domain-highlight-a .h_0 .graph-label, #domain-highlight-a .h_1 .graph-label, #domain-highlight-a .h_2 .graph-label, #domain-highlight-a .h_3 .graph-label, #domain-highlight-a .h_4 .graph-label, #domain-highlight-a .h_5 .graph-label, #domain-highlight-a .h_6 .graph-label, #domain-highlight-a .h_7 .graph-label {
							fill: #fff;
						}
					</style>
					<button id="domain-highlight-previous-selector" style="margin-bottom: 10px;" class="btn"><i class="icon icon-chevron-left"></i></button>
					<button id="domain-highlight-next-selector" style="margin-bottom: 10px;" class="btn"><i class="icon icon-chevron-right"></i></button>
					<div id="domain-highlight-a"></div>
					<p></p>
					<script>
						(function() {
var cal = new CalHeatMap();
cal.init({
	itemSelector: "#domain-highlight-a",
	domain: "hour",
	cellSize: 5,
	range: 12,
	domainGutter: 0,
	domainMargin: 5,
	nextSelector: "#domain-highlight-next-selector",
	previousSelector: "#domain-highlight-previous-selector"
});
						})();
					</script>
				</div>
				<div></div>
			</div>

	<h2 id="migrating-from-2x">Migrating from 2.x</h2>

	<p class="alert">v2 documentation is still available at <a href="http://kamisama.github.io/cal-heatmap/">http://kamisama.github.io/cal-heatmap/v2</a></p>

	<p>There's a lot of changes coming with the 3.x branch. You should read the full documentation to use all the new features. Intruction below are only to migrate your v2 code to the v3 version.</p>

	<h6>onClick</h6>

	<p><code>onClick</code> event is now applied even to date with no data. <br/>
		The second argument will be equal to <code>null</code> when there is no data associated to this date.</p>

	<h6>duration</h6>

	<p>The <code>duration</code> option has been renamed to <code>animationDuration</code></p>

	<h6>id</h6>

	<p>The <code>id</code> option has been replaced by <code>itemSelector</code>, and now accepts a Selector String or an Element, instead of an ID name.</p>

	<h6>cellsize</h6>

	<p><code>cellsize</code> has been renamed to <code>cellSize</code> (camel case)</p>

	<h6>cellpadding</h6>

	<p><code>cellpadding</code> has been renamed to <code>cellPadding</code> (camel case)</p>

	<h6>cellradius</h6>

	<p><code>cellradius</code> has been renamed to <code>cellRadius</code> (camel case)</p>

	<h6>cellLabel</h6>

	<p><code>cellLabel</code> has been renamed to <code>subDomainTitleFormat</code></p>

	<h6>scaleLabel</h6>

	<p><code>scaleLabel</code> has been renamed to <code>legendTitleFormat</code></p>

	<h6>weekStartOnMonday</h6>

	<p><code>weekStartOnMonday</code> now takes a boolean (true/false) instead of an integer (0/1)</p>

	<h6>format</h6>

	<p><code>format</code> has been spitted into multiple options.</p>

	<ul>
		<li><code>format.date</code> is now <code>subDomainDateFormat</code></li>
		<li><code>format.legend</code> is now <code>domainLabelFormat</code></li>
	</ul>

	<p>The domain label can now be customized, by passing a function to <code>domainLabelFormat</code>.</p>

	<h6>browsing</h6>

	<p><code>browsing</code> option has been removed, see the <code>next()</code>, <code>previous()</code> events, and the <code>nextSelector</code> and <code>previousSelector</code> options.</p>

	<h6>highlightToday</h6>

	<p><code>highlightToday</code> has been replaced by <code>highlight</code>, and accepts an array of dates, allowing highlighting more than one date.</p>

	<h6>itemName</h6>

	<p><code>itemName</code> now accepts a single value array, or just a string, and will auto guess the plural form as long as it's just the singular form plus "s".</p>

	<h6>Calendar dynamic width</h6>

	<p>Previously, calendar width was dynamic, when using the month domain, coupled with the x_week subDomain, as a month not always contains the same number of weeks. Domain width was adjusted to the number of weeks to avoid blank space.</p>

	<p>This function has been removed in v3, the domains will now always have the same width, so there'll be a blank space on some months with fewer weeks. This will avoid complex calculation, and allow smoother animation when navigating between domains.</p>

	<h2 id="faq">FAQ</h2>

	<p class="alert">Coming soon ...</p>

	<h2 id="about">About</h2>

	<p>Cal-HeatMap is licenced under the <a href="http://opensource.org/licenses/MIT">MIT Licence</a></p>

	<p>Developed with love by <a href="https://github.com/kamisama">Wan Qi Chen</a></p>

</div>

<script src="./js/prism.js"></script>

<script>
	$(document).ready(function() {
		$(".example > div").each(function(){

			var code = $(this).find("script");
			$(this).append("<div class=source>");
			var sourceDiv = $(this).find(".source");

			if (code.length > 0) {
				sourceDiv.append("<button class=\"btn btn-small\"><i class='icon icon-indent-right'></i> View code</button>");

				sourceDiv.find("button").on("click", function(e) {
					var source = code.html();
					source = source.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace('(function() {', '').replace('})();', '');

					sourceDiv.append("<pre><code class='language-javascript'>" + source.trim() + "</code></pre>");
					Prism.highlightElement(sourceDiv.find("code")[0]);

					$(this).remove();
				});
			}



		});

	});
</script>

</body>
</html>